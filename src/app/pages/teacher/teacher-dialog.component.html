<div align="center" *ngIf="loaded">
  <form [formGroup]="teacherForm" (ngSubmit)="onSubmit()">
    <div mat-dialog-title>Teacher</div>
    <div mat-dialog-content>
      <ng-container *ngIf="data.type !== 'view'; else elseTemplate">
        <!-- for edit & add -->
        <mat-form-field appearance="fill">
          <mat-label>Name</mat-label>
          <input matInput formControlName="name" />
          <mat-error>Field must not be empty.</mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Email</mat-label>
          <input type="email" matInput formControlName="email" [email]="true" />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Mob.No.</mat-label>
          <input matInput formControlName="mob" maxlength="10" />
          <mat-error>Field must not be empty.</mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Class</mat-label>
          <mat-select matInput formControlName="class_id">
            <mat-option *ngFor="let class of classes" [value]="class.id">
              {{ class.name }}
            </mat-option>
          </mat-select>
          <mat-error>Field must not be empty.</mat-error>
        </mat-form-field>
      </ng-container>

      <!-- for view -->
      <ng-template #elseTemplate>
        <div>Name: {{ data._teacher.name }}</div>
        <div>Mob: {{ data._teacher.mob }}</div>
        <div>Email: {{ data._teacher.email }}</div>
        <div>Class: {{ class.name }}</div>
      </ng-template>
    </div>

    <div mat-dialog-actions align="center">
      <button *ngIf="data.type !== 'view'" type="submit" mat-raised-button>
        Ok
      </button>
      <button type="button" mat-raised-button (click)="onNoClick()">
        Cancel
      </button>
    </div>
  </form>
</div>
